# app.py
# Streamlit Cloud에서 작동하는 MBTI → 진로 추천 앱
# 사용법: streamlit run app.py
import streamlit as st

st.set_page_config(page_title="MBTI로 찾는 진로 추천 🌱", page_icon="🎓", layout="centered")

MBTI_CAREERS = {
    "ISTJ": [
        {"job": "회계사 / 세무사 🧾",
         "majors": ["경영학과", "회계학과", "세무학과"],
         "personality": "규칙을 잘 지키고 책임감 강함. 세부사항에 강하고 안정적인 환경에서 성과를 내는 타입이에요."},
        {"job": "품질관리(품질보증) 엔지니어 🔍",
         "majors": ["산업공학과", "화학공학과", "기계공학과"],
         "personality": "절차와 표준을 중시하며 체계적으로 문제를 해결하는 걸 즐깁니다."}
    ],
    "ISFJ": [
        {"job": "사회복지사 / 상담사 🤝",
         "majors": ["사회복지학과", "심리학과", "아동가족학과"],
         "personality": "다정하고 배려심 강함. 다른 사람의 필요를 잘 살피고 꾸준히 도와주는 역할에 잘 맞아요."},
        {"job": "간호사 / 임상병리사 🩺",
         "majors": ["간호학과", "임상병리학과"],
         "personality": "섬세하고 책임감이 있어 환자 돌봄에 안정감을 제공합니다."}
    ],
    "INFJ": [
        {"job": "임상심리사 / 치료사 🌿",
         "majors": ["심리학과", "상담대학원"],
         "personality": "사람의 내면을 깊게 이해하려 하며 의미 있는 변화를 이끄는 걸 좋아합니다."},
        {"job": "콘텐츠 기획자 / 작가 ✍️",
         "majors": ["문예창작학과", "커뮤니케이션학과", "미디어학과"],
         "personality": "창의적으로 메시지를 전달하고 사람들에게 영감을 주는 일을 선호합니다."}
    ],
    "INTJ": [
        {"job": "연구원 / 데이터 사이언티스트 🔬",
         "majors": ["수학과", "통계학과", "컴퓨터공학과"],
         "personality": "논리적이고 계획적, 복잡한 문제를 구조화해 해결하는 걸 즐깁니다."},
        {"job": "전략 컨설턴트 📈",
         "majors": ["경영학과", "경제학과"],
         "personality": "큰 그림을 보고 체계적으로 전략을 세우는 역할에서 빛납니다."}
    ],
    "ISTP": [
        {"job": "기계 설계 엔지니어 / 정비사 ⚙️",
         "majors": ["기계공학과", "자동차공학과", "항공정비"],
         "personality": "실용적이고 손으로 만드는 일을 좋아하며 문제 해결에 능숙합니다."},
        {"job": "소프트웨어 개발자 (시스템 레벨) 💻",
         "majors": ["컴퓨터공학과", "정보통신공학과"],
         "personality": "논리적으로 코드를 다루며 즉각적인 문제 해결을 즐깁니다."}
    ],
    "ISFP": [
        {"job": "디자이너 (그래픽/산업) 🎨",
         "majors": ["시각디자인과", "산업디자인과", "예술대학"],
         "personality": "감성적이고 미적 감각이 뛰어나며 실용적 예술을 좋아합니다."},
        {"job": "반려동물 관련직 / 자연환경 보전 활동가 🌿",
         "majors": ["생물학과", "환경학과", "동물관련학과"],
         "personality": "온화하고 현재를 즐기며 자연과 생명을 돌보는 일에 만족을 느낍니다."}
    ],
    "INFP": [
        {"job": "문학/창작 작가 / 편집자 📚",
         "majors": ["문예창작학과", "영문학과", "국어국문학과"],
         "personality": "내면이 풍부하고 가치와 의미를 표현하는 데 재능이 있습니다."},
        {"job": "비영리 / 인권 활동가 ✊",
         "majors": ["사회복지학과", "국제학과", "사회학과"],
         "personality": "이상과 가치를 위해 헌신하며 사람을 돕는 일에 몰입합니다."}
    ],
    "INTP": [
        {"job": "연구개발 엔지니어 / 이론물리학자 🧠",
         "majors": ["물리학과", "수학과", "컴퓨터공학과"],
         "personality": "호기심이 많고 개념적 사고를 즐기며 혼자 깊이 파고드는 걸 좋아합니다."},
        {"job": "소프트웨어 아키텍트 / 시스템 설계자 🏗️",
         "majors": ["컴퓨터공학과", "전산학과"],
         "personality": "논리적 모델링과 구조화를 통해 복잡한 시스템을 설계합니다."}
    ],
    "ESTP": [
        {"job": "영업 / 마케팅 실무자 🚀",
         "majors": ["경영학과", "광고홍보학과", "마케팅학과"],
         "personality": "즉흥적이고 행동력이 뛰어나며 사람들과의 상호작용에서 힘을 발휘합니다."},
        {"job": "응급구조 / 현장기술자 🚑",
         "majors": ["응급구조학과", "소방학과", "토목공학과"],
         "personality": "빠른 판단과 현장 대응 능력이 요구되는 역할에 적합합니다."}
    ],
    "ESFP": [
        {"job": "연예/퍼포먼스 아티스트 / 이벤트 기획자 🎤",
         "majors": ["연기과", "무용과", "무대예술학과", "경영학(이벤트)"],
         "personality": "활발하고 사람들 앞에서 빛나는 걸 즐기며 분위기를 띄우는 재주가 있습니다."},
        {"job": "리테일 매니저 / 고객서비스 전문가 🛍️",
         "majors": ["경영학과", "서비스경영학과"],
         "personality": "사람을 기쁘게 하고 즉각적 피드백을 즐기는 성향에 잘 맞습니다."}
    ],
    "ENFP": [
        {"job": "창업가 / 스타트업 기획자 ✨",
         "majors": ["경영학과", "창업학과", "융합전공"],
         "personality": "아이디어가 풍부하고 사람을 설득하며 새로운 것을 시도하는 걸 즐깁니다."},
        {"job": "홍보/콘텐츠 크리에이터 📣",
         "majors": ["미디어학과", "커뮤니케이션학과", "디지털콘텐츠"],
         "personality": "창의적이고 에너지가 넘치며 사람들과 소통하는 걸 좋아합니다."}
    ],
    "ENTP": [
        {"job": "제품 기획자 / 프로덕트 매니저 🧩",
         "majors": ["경영학과", "산업공학과", "컴퓨터공학과"],
         "personality": "문제를 발굴하고 새로운 해결책을 설계하는 데 능합니다."},
        {"job": "변호사 (특히 기업/지적재산권) ⚖️",
         "majors": ["법학과", "지적재산권 관련 대학원"],
         "personality": "토론을 즐기고 논리를 빠르게 재구성하는 데 강점이 있습니다."}
    ],
    "ESTJ": [
        {"job": "공무원 / 행정관리자 🏛️",
         "majors": ["행정학과", "법학과", "경영학과"],
         "personality": "조직을 운영하고 규칙을 적용하는 데 익숙하며 리더십이 있습니다."},
        {"job": "프로젝트 매니저 / 운영 관리자 📋",
         "majors": ["경영학과", "산업공학과"],
         "personality": "체계적이고 목표지향적이며 사람들을 관리하는 데 능숙합니다."}
    ],
    "ESFJ": [
        {"job": "초중등 교사 / 교육코디네이터 🏫",
         "majors": ["교육학과", "유아교육과", "특수교육학과"],
         "personality": "사람을 돌보고 지도하는 데 즐거움을 느끼며 협력적입니다."},
        {"job": "HR / 인사담당자 🤝",
         "majors": ["경영학과", "인사관리전공", "심리학과"],
         "personality": "대인관계가 좋고 조직 내 사람 관리에 강점을 발휘합니다."}
    ],
    "ENFJ": [
        {"job": "교육자 / 조직개발 전문가 🌟",
         "majors": ["교육학과", "심리학과", "경영학과"],
         "personality": "사람을 이끌고 성장시키는 데 재능이 있으며 비전을 공유합니다."},
        {"job": "PR / 커뮤니케이션 디렉터 🗣️",
         "majors": ["커뮤니케이션학과", "광고홍보학과"],
         "personality": "공감능력이 뛰어나고 메시지로 사람들을 움직입니다."}
    ],
    "ENTJ": [
        {"job": "경영자 / CEO 🦾",
         "majors": ["경영학과", "경제학과", "MBA(추후)"],
         "personality": "목표지향적이고 결정력이 있으며 조직을 전략적으로 이끌 능력이 있습니다."},
        {"job": "전략 기획자 / 컨설턴트 🧭",
         "majors": ["경영학과", "경제학과", "산업공학과"],
         "personality": "분석적이고 큰 그림을 설계하는 데 강합니다."}
    ],
}

MBTI_ORDER = list(MBTI_CAREERS.keys())

def render_career_card(c):
    st.subheader(f"{c['job']}")
    st.write(f"🔹 **어울리는 학과**: {', '.join(c['majors'])}")
    st.write(f"🔹 **어울리는 성격**: {c['personality']}")
    st.markdown("---")

def comforting_footer():
    st.info(
        "입시 준비하느라 정말 고생 많았어요 — 숨 고르고 있는 지금도 충분히 잘해내고 있어요. 🌸\n\n"
        "결정을 완벽하게 내려야 하는 부담은 내려놓아도 괜찮습니다. 여러 길을 천천히 경험해 보며 "
        "자신에게 맞는 길을 찾으면 됩니다. 필요하면 언제든 다시 와서 다른 유형으로도 살펴봐요. 함께할게요! 💪🙂"
    )

def main():
    st.title("MBTI로 보는 진로 추천 🎓✨")
    st.write("왼쪽에서 자신의 MBTI를 골라주세요. (16가지 중 하나)")
    st.write("각 유형마다 **두 가지 진로**와 그에 어울리는 **학과** 및 **성격**을 친절히 설명해 드려요. 😊")

    with st.sidebar:
        st.header("MBTI 선택")
        mbti = st.selectbox("MBTI 유형을 선택하세요", MBTI_ORDER, index=0)
        st.write("📌 선택한 유형:", mbti)

        st.markdown("---")
        st.write("도움말")
        st.write("• 추천은 일반적인 성향을 바탕으로 한 제안이에요.")
        st.write("• 꼭 한 길만 있는 건 아니니 너무 조급해하지 말고 여러 가능성을 열어두세요. 🌱")

    careers = MBTI_CAREERS.get(mbti, [])
    st.header(f"'{mbti}'에게 어울리는 진로 추천 👇")
    for c in careers:
        render_career_card(c)

    # 간단한 팁 박스
    st.subheader("진로 선택 팁 📝")
    st.write("1. 관심 있는 과목/활동을 우선 체크해 보세요.")
    st.write("2. 실제 현장(인턴, 동아리, 체험)을 경험해보면 생각이 훨씬 명확해져요.")
    st.write("3. 성향은 변할 수 있으니, 유연하게 접근하세요 — 모든 선택은 성장의 발판입니다.")

    comforting_footer()

if __name__ == "__main__":
    main()
